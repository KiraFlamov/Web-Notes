<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ -->
    <title>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style_registr.css') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
</head>

<body>
    <h1>–í—Ö–æ–¥</h1>
    <!-- –§–æ—Ä–º–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="notification">{{ messages[0] | e }}</div>
            <script>
                const note = document.querySelector('.notification');
                if (note) {
                    note.classList.add('show'); // –¥–µ–ª–∞–µ–º –≤–∏–¥–∏–º—ã–º
                    setTimeout(() => {
                      note.classList.remove('show'); // <—Å–∫—Ä—ã–≤–∞–µ–º></—Å–∫—Ä—ã–≤–∞–µ–º>
                    }, 1500); // —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥—ã
                }
            </script>
        {% endif %}
    {% endwith %}

    <form method="POST">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <input name="username" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
        <div class="password-row">
            <input type="password" id="password" name="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
            <button type="button" class="toggle-password" onclick="togglePassword()">üëÅ</button>
        </div>
        <div class="buttons_row">
            <a href="{{ url_for('register') }}">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
            <button class="buttons" type="submit">–í–æ–π—Ç–∏</button>
        </div>
    </form>


    <!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è -->
    <script>
    function togglePassword() {
      const passwordField = document.getElementById("password");
      const toggleButton = document.querySelector(".toggle-password");

      if (passwordField.type === "password") {
        passwordField.type = "text";
      } else {
        passwordField.type = "password";
      }
    }
    </script>


</body>
</html>